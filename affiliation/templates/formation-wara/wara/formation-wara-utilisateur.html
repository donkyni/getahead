{% extends "formation-wara/wara/base-wara.html" %}
{% load static %}

{% block title2 %}
Accueil
{% endblock %}

{% block content2 %}
<!-- Main Content -->
<div class="page-wrapper" style="background: url('{% static 'programme-wara/img/img5.jpg' %}');background-size: cover;">
    <div class="container-fluid pt-25">
        <!-- Row-->
        <div class="col">
            <div class="row">
                <div class="col-lg-6 col-lg-6">
                    <a href="{% url 'liste_sujet_user' %}" style="background-color: #2C2C54; border:1px solid #2C2C54" class="btn btn-sm btn-block btn-primary mb-3">Vers <i class="fas fa-angle-right"></i> Forum</a>
                </div>
                <!--<div class="col-lg-6 col-lg-6">
                    <a href="{% url 'attestation' %}" style="background-color: #2C2C54; border:1px solid #2C2C54" class="btn btn-sm btn-block btn-primary mb-3">Vers <i class="fas fa-angle-right"></i> Attestation</a>
                </div>-->
                <div class="col-lg-6 col-lg-6">
                    <a href="{% url 'mongroupe' %}" style="background-color: #2C2C54; border:1px solid #2C2C54" class="btn btn-sm btn-block btn-primary mb-3">Vers <i class="fas fa-angle-right"></i> GET AHEAD</a>
                </div>
            </div>
        </div>
        <br>
        {% if request.user.profil.nom == "Utilisateur" %}
        <div class="row">
            <div class="col-lg-4 col-12">
                <button type="button" class="btn btn-info btn-block" data-toggle="modal" data-target="#parrainer">
                    <b>Parrainer un filleule &nbsp;<i class="fa fa-arrow-circle-right"></i></b>
                </button>
                <hr>
            </div>
        </div>
        {% endif %}
        <div class="modal fade" id="parrainer" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Parrainer un filleule</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <span>Votre lien de parrainage</span>
                        <br><br>
                        <input class="form-control" readonly id="lien" type="text" value="http://wara-africa.com/{{request.user.unique_id}}/lien-generer-pour-l-inscription-a-getahead-2.0/$">
                        <br>
                        <span>Copiez le lien et envoyer le à votre ami. Une fois son inscription terminé, il sera reconnu comme votre filleule</span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                        <button class="btn btn-primary" onclick="myFunction()">Copiez !</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default card-view  pa-0">
                <div class="panel-wrapper collapse in">
                    <div class="panel-body  pa-0">
                        <div class="profile-box">
                            <div class="profile-cover-pic">
                                <div class="fileupload btn btn-default"> <span class="btn-text"><i class="typcn typcn-pencil"></i></span>
                                    <input class="upload" type="file">
                                </div>
                                <div class="profile-image-overlay"></div>
                            </div>
                            <div class="profile-info text-center">
                                {% if request.user.sexe == "Homme" %}
                                <div class="profile-img-wrap"> <img class="inline-block mb-10" src="{% static 'programme-wara/img/user-male-2.png' %}" alt="user"/>
                                    <div class="fileupload btn btn-default"> <span class="btn-text"><i class="typcn typcn-pencil"></i></span>
                                        <input class="upload" type="file">
                                    </div>
                                </div>
                                {% elif request.user.sexe == "Femme" %}
                                <div class="profile-img-wrap"> <img class="inline-block mb-10" src="{% static 'programme-wara/img/user-female.png' %}" alt="user"/>
                                    <div class="fileupload btn btn-default"> <span class="btn-text"><i class="typcn typcn-pencil"></i></span>
                                        <input class="upload" type="file">
                                    </div>
                                </div>
                                {% endif %}
                                <h5 class="block mt-5 mb-5 weight-500 capitalize-font txt-primary">{{request.user}}</h5>
                                <h6 style="font-size:15px" class="block capitalize-font pb-10"><span class="badge badge-secondary">{{request.user.profil}}</span></h6>
                            </div>
                            <div class="social-info">
                                <!--<div class="row">
                                    <div class="col-xs-4 text-center"> <span class="counts block head-font"><span class="counter-anim">345</span></span> <span class="counts-text block">post</span> </div>
                                    <div class="col-xs-4 text-center"> <span class="counts block head-font"><span class="counter-anim">246</span></span> <span class="counts-text block">followers</span> </div>
                                    <div class="col-xs-4 text-center"> <span class="counts block head-font"><span class="counter-anim">898</span></span> <span class="counts-text block">tweets</span> </div>
                                </div>-->
                                <button class="btn btn-primary btn-block  btn-anim mt-10" data-toggle="modal" data-target="#myModal1"><i class="fa fa-pencil"></i><span class=" weight-600 btn-text">{{request.user}}</span></button>
                                <div id="myModal" class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                <h5 class="modal-title" id="myModalLabel">Edit Profile</h5>
                                            </div>
                                            <div class="modal-body">
                                                <!-- Row -->
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="">
                                                            <div class="panel-wrapper collapse in">
                                                                <div class="panel-body pa-0">
                                                                    <div class="col-sm-12 col-xs-12">
                                                                        <div class="form-wrap">
                                                                            <form action="#">
                                                                                <div class="form-body overflow-hide">
                                                                                    <div class="form-group">
                                                                                        <label class="control-label mb-10" for="exampleInputuname_1">Name</label>
                                                                                        <div class="input-group">
                                                                                            <div class="input-group-addon"><i class="mdi mdi-account"></i></div>
                                                                                            <input type="text" class="form-control" id="exampleInputuname_1" placeholder="willard bryant">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label class="control-label mb-10" for="exampleInputEmail_1">Email address</label>
                                                                                        <div class="input-group">
                                                                                            <div class="input-group-addon"><i class="mdi mdi-email"></i></div>
                                                                                            <input type="email" class="form-control" id="exampleInputEmail_1" placeholder="xyz@gmail.com">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label class="control-label mb-10" for="exampleInputContact_1">Contact number</label>
                                                                                        <div class="input-group">
                                                                                            <div class="input-group-addon"><i class="mdi mdi-cellphone"></i></div>
                                                                                            <input type="email" class="form-control" id="exampleInputContact_1" placeholder="+102 9388333">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label class="control-label mb-10" for="exampleInputpwd_1">Password</label>
                                                                                        <div class="input-group">
                                                                                            <div class="input-group-addon"><i class="mdi mdi-lock"></i></div>
                                                                                            <input type="password" class="form-control" id="exampleInputpwd_1" placeholder="Enter pwd" value="password">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label class="control-label mb-10">Gender</label>
                                                                                        <div>
                                                                                            <div class="radio">
                                                                                                <input type="radio" name="radio1" id="radio_1" value="option1" checked="">
                                                                                                <label for="radio_1"> Male </label>
                                                                                            </div>
                                                                                            <div class="radio">
                                                                                                <input type="radio" name="radio1" id="radio_2" value="option2">
                                                                                                <label for="radio_2"> Female </label>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label class="control-label mb-10">Country</label>
                                                                                        <select class="form-control" data-placeholder="Choose a Category" tabindex="1">
                                                                                            <option value="Category 1">USA</option>
                                                                                            <option value="Category 2">Austrailia</option>
                                                                                            <option value="Category 3">India</option>
                                                                                            <option value="Category 4">UK</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                <button type="button" class="btn btn-success waves-effect" data-dismiss="modal">Save</button>
                                                                                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Cancel</button>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8 col-md-12 ">
            <div class="panel panel-default card-view">
                <div class="panel-heading">
                    <div class="pull-left">
                        <h6 class="panel-title txt-dark">Vague de : </h6>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="panel-wrapper">
                    <div class="panel-body row pa-0">
                        <div class="table-wrapper">
                            <div class="table-responsive">
                                <table class="table border-none mb-0" id="data_table_employee">
                                    <thead>
                                    <tr>
                                        <th style="font-weight:700;width:30%">Version</th>
                                        <th style="font-weight:700">Participants</th>
                                        <th style="font-weight:700">Vague</th>
                                        <th style="font-weight:700">Statut</th>
                                        <th style="font-weight:700">Actions</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for key, values in dict.items %}
                                    {% for v in values %}
                                    {% for w in v.utilisateurs.all %}
                                    {% if w == participant %}
                                    <tr>
                                        <td>
                                                                <span class="txt-dark badge badge-warning">
                                                                    <a href="{% url 'voir_modules' v.version.id %}">{{v.version}}</a>
                                                                </span>
                                            <br>
                                            <a href="{% url 'voir_modules' v.version.id %}">
                                                <span style="font-style:italic">Cliquez pour voir les modules de cette formation</span>
                                            </a>
                                        </td>
                                        <td><span style="font-size:14px" class="badge badge-secondary">{{v.utilisateurs.count}}</span> <span style="font-size:14px" class="badge badge-secondary">personnes</span></td>
                                        <td><span class="badge badge-secondary">{{v.date_deb|date:"d N"}}</span> - <span class="badge badge-secondary">{{v.date_fin|date:"d N Y"}}</span></td>
                                        <td><span class="label label-primary" style="font-size:13px">En cours</span></td>
                                        <td class="text-center">
                                            <a href="javascript:void(0)" class="text-inverse" title="Edit" data-toggle="tooltip">
                                                <i class="mdi mdi-lead-pencil"></i>
                                            </a>
                                            <a href="javascript:void(0)" class="text-inverse" title="Delete" data-toggle="tooltip">
                                                <i class="mdi mdi-delete"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                                    {% endfor %}
                                    {% endfor %}
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <th style="font-weight:700">Version</th>
                                        <th style="font-weight:700">Participants</th>
                                        <th style="font-weight:700">Vague</th>
                                        <th style="font-weight:700">Statut</th>
                                        <th style="font-weight:700">Actions</th>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--
        <div class="clearfix"></div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <video controls onselectstart="return false" oncontextmenu="return false" ondragstart="return false" onMouseOver="window.status='..message perso .. '; return true;">
                <source src="http://techslides.com/demos/sample-videos/small.mp4" type="video/mp4">
            </video>
        </div>
        -->
        <div class="clearfix"></div>
    </div>
    <!-- Row-->
    <!-- Footer -->
    <footer class="footer container-fluid pt-10 pb-10  pl-30 pr-30">
        <div class="row">
            <div class="col-sm-12 ">
                <div class="pull-left text-dark pt-5 small">Copyright @ 2021. Tous droits réservés</div>
                <div class="pull-right">Created by <a href="http://wara-africa.com/" style="color:#fff" target="_blank">GET AHEAD</a></div>
                <div class="clearfix"></div>
            </div>
        </div>
    </footer>
    <!-- /Footer -->
</div>
<!-- /Main Content -->
{% endblock %}

{% block javascript %}
<script>

  function myFunction() {
   /* Get the text field */
   var copyText = document.getElementById("lien");

   /* Select the text field */
   copyText.select();

   /* Copy the text inside the text field */
   document.execCommand("Copy");

 };
</script>
{% endblock %}